source: &docker-registry-credentials
  username: ((internal-docker-user))
  password: ((internal-docker-pass))
  tag: latest

source: &GoFNOL-git
  uri: git@bitbucket.org:SoleraNA/gofnol.git
  branch: master
  private_key: ((private-repo-key))

resource_types:

- name: artifactory
  type: docker-image
  source:
    repository: pivotalservices/artifactory-resource
    tag: latest

resources:

- name: GoFNOL-image
  type: docker-image
  source:
    <<: *docker-registry-credentials
    repository: ((internal-docker-addr))/GoFNOL-default-image

- name: GoFNOL-dockerfile
  type: git
  source:
    <<: *GoFNOL-git
    paths:
      - ci/docker

- name: GoFNOL-git
  type: git
  source:
    <<: *GoFNOL-git

- name: GoFNOL-artifactory
  type: artifactory
  source:
    endpoint: ((artifactory-base-url))
    username: ((artifactory-username))
    password: ((artifactory-password))
    skip_ssl_verification: true
    repository: /gotime-driver-release-local/com/solera/audatex/gotime-driver/GoFNOL
    regex: "GoFNOL-(?<version>.*).zip"